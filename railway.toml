[build]
builder = "nixpacks"

[deploy]
startCommand = "npm start"

[environments.production]
variables = { 
  NODE_ENV = "production",
  DATABASE_URL = "postgresql://postgres:PKzoOzvUtjJgxIzKpOoXALIIAfLuHWls@centerbeam.proxy.rlwy.net:13082/railway",
  # Backend Environment Variables
  DATABASE_SSL = "true",
  DATABASE_POOL_SIZE = "20",
  REDIS_URL = "",
  REDIS_HOST = "",
  REDIS_PORT = "",
  REDIS_PASSWORD = "",
  CACHE_TTL = "300",
  THROTTLE_SHORT_LIMIT = "10",
  THROTTLE_MEDIUM_LIMIT = "20",
  THROTTLE_LONG_LIMIT = "100",
  CORS_ORIGIN = "https://product-data-explorer-production.up.railway.app",
  # Frontend Environment Variables
  NEXT_PUBLIC_API_URL = "https://product-data-explorer-production.up.railway.app/api",
  NEXT_PUBLIC_APP_NAME = "Product Data Explorer",
  NEXT_PUBLIC_APP_DESCRIPTION = "Explore products from World of Books with live scraping",
  NEXT_TELEMETRY_DISABLED = "1",
  NEXT_PUBLIC_ENVIRONMENT = "production"
}